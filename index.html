<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Vocabulary Fill-in-the-Blanks Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .navigation {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .nav-btn {
            padding: 12px 25px;
            background: rgba(255,255,255,0.2);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            backdrop-filter: blur(10px);
        }

        .nav-btn:hover, .nav-btn.active {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .score-board {
            display: flex;
            justify-content: space-around;
            background: rgba(255,255,255,0.1);
            padding: 15px;
            margin-top: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .score-item {
            text-align: center;
        }

        .score-item span {
            display: block;
            font-size: 2rem;
            font-weight: bold;
        }

        .score-item label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .game-area, .vocab-area {
            padding: 40px;
            display: none;
        }

        .game-area.active, .vocab-area.active {
            display: block;
        }

        .situation-box {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .situation-text {
            font-size: 1.2rem;
            line-height: 1.8;
            color: #333;
            font-weight: 500;
        }

        .blank {
            display: inline-block;
            min-width: 150px;
            height: 40px;
            border: 2px dashed #007bff;
            background: rgba(0,123,255,0.1);
            border-radius: 8px;
            margin: 0 5px;
            vertical-align: middle;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .blank:hover {
            background: rgba(0,123,255,0.2);
            transform: scale(1.05);
        }

        .blank.filled {
            background: #28a745;
            color: white;
            border-color: #28a745;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .blank.wrong {
            background: #dc3545;
            border-color: #dc3545;
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .word-bank {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 30px 0;
            padding: 25px;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-radius: 15px;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.1);
        }

        .word-bank h3 {
            grid-column: 1 / -1;
            text-align: center;
            color: #333;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .word-option {
            background: white;
            padding: 12px 18px;
            border-radius: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .word-option:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border-color: #007bff;
        }

        .word-option.used {
            opacity: 0.5;
            cursor: not-allowed;
            background: #f8f9fa;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .feedback {
            text-align: center;
            padding: 20px;
            margin: 20px 0;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: bold;
            display: none;
        }

        .feedback.correct {
            background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
            color: #155724;
            display: block;
        }

        .feedback.incorrect {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            color: #721c24;
            display: block;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
            transition: width 0.3s ease;
        }

        /* Vocabulary List Styles */
        .vocab-search {
            margin-bottom: 30px;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            font-size: 1.1rem;
            outline: none;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0,123,255,0.1);
        }

        .vocab-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .vocab-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #007bff;
            transition: all 0.3s ease;
        }

        .vocab-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .vocab-word {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .vocab-meaning {
            font-size: 1rem;
            color: #555;
            line-height: 1.5;
        }

        .category-filter {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 20px;
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .filter-btn:hover, .filter-btn.active {
            background: #007bff;
            color: white;
            border-color: #007bff;
        }

        .vocab-stats {
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .vocab-stats h3 {
            margin-bottom: 15px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
        }

        .stat-item {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            display: block;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö English Vocabulary Learning Game</h1>
            <div class="navigation">
                <div class="nav-btn active" onclick="showSection('game')">üéØ Fill-in-the-Blanks Game</div>
                <div class="nav-btn" onclick="showSection('vocabulary')">üìñ Vocabulary List</div>
            </div>
            <div class="score-board" id="scoreBoard">
                <div class="score-item">
                    <span id="score">0</span>
                    <label>Score</label>
                </div>
                <div class="score-item">
                    <span id="level">1</span>
                    <label>Level</label>
                </div>
                <div class="score-item">
                    <span id="streak">0</span>
                    <label>Streak</label>
                </div>
            </div>
            <div class="progress-bar" id="progressBarContainer">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <!-- Game Section -->
        <div class="game-area active" id="gameSection">
            <div class="situation-box">
                <div class="situation-text" id="situationText">
                    Loading situation...
                </div>
            </div>

            <div class="word-bank" id="wordBank">
                <h3>üéØ Choose the appropriate words</h3>
            </div>

            <div class="feedback" id="feedback"></div>

            <div class="controls">
                <button class="btn btn-primary" onclick="checkAnswers()">‚úÖ Check Answers</button>
                <button class="btn btn-secondary" onclick="clearAnswers()">üîÑ Clear Answers</button>
                <button class="btn btn-success" onclick="nextQuestion()">‚û°Ô∏è Next Question</button>
            </div>
        </div>

        <!-- Vocabulary Section -->
        <div class="vocab-area" id="vocabSection">
            <div class="vocab-stats">
                <h3>üìä Vocabulary Statistics</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-number" id="totalWords">53</span>
                        <span class="stat-label">Total Words</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="basicWords">49</span>
                        <span class="stat-label">Basic Words</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="medicalWords">9</span>
                        <span class="stat-label">Medical Terms</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="animalWords">8</span>
                        <span class="stat-label">Animal Related</span>
                    </div>
                </div>
            </div>

            <div class="vocab-search">
                <input type="text" class="search-input" id="searchInput" placeholder="üîç Search vocabulary... (Type in English or Thai)" onkeyup="filterVocabulary()">
            </div>

            <div class="category-filter">
                <div class="filter-btn active" onclick="filterByCategory('all')">All Words</div>
                <div class="filter-btn" onclick="filterByCategory('basic')">Basic Words</div>
                <div class="filter-btn" onclick="filterByCategory('medical')">Medical Terms</div>
                <div class="filter-btn" onclick="filterByCategory('animal')">Animal Related</div>
                <div class="filter-btn" onclick="filterByCategory('action')">Action Words</div>
            </div>

            <div class="vocab-grid" id="vocabGrid">
                <!-- Vocabulary cards will be generated here -->
            </div>
        </div>
    </div>

    <script>
        // Vocabulary data with categories
        const vocabulary = {
            'circumstances': { meaning: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå', category: 'basic' },
            'sequence': { meaning: '‡∏•‡∏≥‡∏î‡∏±‡∏ö', category: 'basic' },
            'requirement': { meaning: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£', category: 'basic' },
            'efficiency': { meaning: '‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û', category: 'basic' },
            'modify': { meaning: '‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô', category: 'action' },
            'removing': { meaning: '‡∏Å‡∏≤‡∏£‡πÄ‡∏≠‡∏≤‡∏≠‡∏≠‡∏Å', category: 'action' },
            'reinforcement': { meaning: '‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏Å‡∏≥‡∏•‡∏±‡∏á', category: 'basic' },
            'tackle': { meaning: '‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£, ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç', category: 'action' },
            'consequently': { meaning: '‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô', category: 'basic' },
            'likely': { meaning: '‡∏°‡∏µ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°', category: 'basic' },
            'unfortunately': { meaning: '‡∏ô‡πà‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏î‡∏≤‡∏¢', category: 'basic' },
            'preferably': { meaning: '‡πÇ‡∏î‡∏¢‡∏Ñ‡∏ß‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å', category: 'basic' },
            'demonstration': { meaning: '‡∏Å‡∏≤‡∏£‡∏™‡∏≤‡∏ò‡∏¥‡∏ï', category: 'basic' },
            'decentralization': { meaning: '‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏≠‡∏≥‡∏ô‡∏≤‡∏à', category: 'basic' },
            'deforestation': { meaning: '‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡πÑ‡∏°‡πâ‡∏ó‡∏≥‡∏•‡∏≤‡∏¢‡∏õ‡πà‡∏≤', category: 'basic' },
            'deflection': { meaning: '‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏ö‡∏ô', category: 'basic' },
            'replace': { meaning: '‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà', category: 'action' },
            'render': { meaning: '‡∏ó‡∏≥‡πÉ‡∏´‡πâ, ‡∏Å‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î', category: 'action' },
            'rot': { meaning: '‡πÄ‡∏ô‡πà‡∏≤', category: 'basic' },
            'refill': { meaning: '‡πÄ‡∏ï‡∏¥‡∏°‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á', category: 'action' },
            'trustworthy': { meaning: '‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠', category: 'basic' },
            'tremendous': { meaning: '‡∏°‡∏´‡∏≤‡∏®‡∏≤‡∏•, ‡πÉ‡∏´‡∏ç‡πà‡πÇ‡∏ï', category: 'basic' },
            'classification': { meaning: '‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡πÅ‡∏ô‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó', category: 'basic' },
            'customizing': { meaning: '‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£', category: 'action' },
            'jury': { meaning: '‡∏Ñ‡∏ì‡∏∞‡∏•‡∏π‡∏Å‡∏Ç‡∏∏‡∏ô', category: 'basic' },
            'riot': { meaning: '‡∏Å‡∏≤‡∏£‡∏à‡∏•‡∏≤‡∏à‡∏•', category: 'basic' },
            'fusion': { meaning: '‡∏Å‡∏≤‡∏£‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô', category: 'basic' },
            'mass': { meaning: '‡∏°‡∏ß‡∏•, ‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏ç‡πà', category: 'basic' },
            'mercy': { meaning: '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏°‡∏ï‡∏ï‡∏≤', category: 'basic' },
            'resolve': { meaning: '‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÅ‡∏ô‡πà‡∏ß‡πÅ‡∏ô‡πà', category: 'basic' },
            'torment': { meaning: '‡∏Å‡∏≤‡∏£‡∏ó‡∏£‡∏°‡∏≤‡∏ô', category: 'basic' },
            'scope': { meaning: '‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï', category: 'basic' },
            'fragility': { meaning: '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡∏£‡∏≤‡∏∞‡∏ö‡∏≤‡∏á', category: 'medical' },
            'fatigue': { meaning: '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏•‡πâ‡∏≤', category: 'medical' },
            'senility': { meaning: '‡∏†‡∏≤‡∏ß‡∏∞‡∏™‡∏°‡∏≠‡∏á‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏°‡πÉ‡∏ô‡∏ß‡∏±‡∏¢‡∏ä‡∏£‡∏≤', category: 'medical' },
            'court': { meaning: '‡∏®‡∏≤‡∏•', category: 'basic' },
            'tribe': { meaning: '‡πÄ‡∏ú‡πà‡∏≤, ‡∏ä‡∏ô‡πÄ‡∏ú‡πà‡∏≤', category: 'basic' },
            'dens': { meaning: '‡∏ñ‡πâ‡∏≥‡∏™‡∏±‡∏ï‡∏ß‡πå', category: 'animal' },
            'caves': { meaning: '‡∏ñ‡πâ‡∏≥', category: 'animal' },
            'burrows': { meaning: '‡πÇ‡∏û‡∏£‡∏á', category: 'animal' },
            'lodges': { meaning: '‡∏Å‡∏£‡∏∞‡∏ó‡πà‡∏≠‡∏°', category: 'animal' },
            'ascend': { meaning: '‡∏õ‡∏µ‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô', category: 'action' },
            'alight': { meaning: '‡∏•‡∏á‡∏à‡∏≤‡∏Å‡∏¢‡∏≤‡∏ô‡∏û‡∏≤‡∏´‡∏ô‡∏∞', category: 'action' },
            'arrive': { meaning: '‡∏°‡∏≤‡∏ñ‡∏∂‡∏á', category: 'action' },
            'dismount': { meaning: '‡∏•‡∏á‡∏à‡∏≤‡∏Å‡∏°‡πâ‡∏≤', category: 'action' },
            'aroma': { meaning: '‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏´‡∏≠‡∏°', category: 'basic' },
            'stink': { meaning: '‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÄ‡∏´‡∏°‡πá‡∏ô', category: 'basic' },
            'odor': { meaning: '‡∏Å‡∏•‡∏¥‡πà‡∏ô (‡πÑ‡∏°‡πà‡∏û‡∏∂‡∏á‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå)', category: 'basic' },
            'fragrance': { meaning: '‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏´‡∏≠‡∏°', category: 'basic' },
            'outlive': { meaning: '‡∏°‡∏µ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏≤‡∏ô‡∏Å‡∏ß‡πà‡∏≤', category: 'medical' },
            'counterproductive': { meaning: '‡∏Å‡πà‡∏≠‡∏ú‡∏•‡πÄ‡∏™‡∏µ‡∏¢, ‡πÑ‡∏î‡πâ‡∏ú‡∏•‡∏ï‡∏£‡∏á‡∏Ç‡πâ‡∏≤‡∏°', category: 'basic' },
            'susceptible': { meaning: '‡∏≠‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß, ‡∏°‡∏µ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏ï‡∏¥‡∏î‡πÇ‡∏£‡∏Ñ‡∏á‡πà‡∏≤‡∏¢', category: 'medical' },
            'asthma': { meaning: '‡πÇ‡∏£‡∏Ñ‡∏´‡∏≠‡∏ö‡∏´‡∏∑‡∏î', category: 'medical' },
            'trigger': { meaning: '‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô', category: 'medical' },
            'flare': { meaning: '‡∏õ‡∏∞‡∏ó‡∏∏, ‡∏Å‡∏≥‡πÄ‡∏£‡∏¥‡∏ö', category: 'medical' },
            'pollution': { meaning: '‡∏°‡∏•‡∏û‡∏¥‡∏©', category: 'basic' },
            'inhaler': { meaning: '‡∏¢‡∏≤‡∏™‡∏π‡∏î (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏≠‡∏ö‡∏´‡∏∑‡∏î)', category: 'medical' },
            'symptom': { meaning: '‡∏≠‡∏≤‡∏Å‡∏≤‡∏£', category: 'medical' }
        };

        // English situations
        const situations = [
            {
                text: "Under the current _____ of the pandemic, the company needs to _____ its working methods to maintain employee _____.",
                answers: ['circumstances', 'modify', 'efficiency'],
                options: ['circumstances', 'modify', 'efficiency', 'requirement', 'sequence', 'tackle']
            },
            {
                text: "The _____ of forests has a _____ impact on the ecosystem. _____, we must find ways to _____ this problem.",
                answers: ['deforestation', 'tremendous', 'Consequently', 'tackle'],
                options: ['deforestation', 'tremendous', 'Consequently', 'tackle', 'pollution', 'render']
            },
            {
                text: "Patients with _____ must carry their _____ at all times because various _____ can cause symptoms to _____ up.",
                answers: ['asthma', 'inhaler', 'trigger', 'flare'],
                options: ['asthma', 'inhaler', 'trigger', 'flare', 'symptom', 'susceptible']
            },
            {
                text: "Travelers must _____ from the train at the station, then _____ the mountain trail to _____ at their destination.",
                answers: ['alight', 'ascend', 'arrive'],
                options: ['alight', 'ascend', 'arrive', 'dismount', 'render', 'likely']
            },
            {
                text: "_____ products according to customer needs is a key _____ and must follow the specified _____.",
                answers: ['Customizing', 'requirement', 'sequence'],
                options: ['Customizing', 'requirement', 'sequence', 'classification', 'scope', 'demonstration']
            },
            {
                text: "As people age, they become more _____ to illness and may experience _____ that reduces their overall _____.",
                answers: ['susceptible', 'fatigue', 'efficiency'],
                options: ['susceptible', 'fatigue', 'efficiency', 'senility', 'fragility', 'torment']
            },
            {
                text: "Different wild animals live in various habitats: bears live in _____, wolves live in _____, and squirrels live in _____.",
                answers: ['caves', 'dens', 'burrows'],
                options: ['caves', 'dens', 'burrows', 'lodges', 'tribe', 'mass']
            },
            {
                text: "The _____ in court must show _____ in their judgment and demonstrate _____ towards the accused.",
                answers: ['jury', 'resolve', 'mercy'],
                options: ['jury', 'resolve', 'mercy', 'court', 'riot', 'torment']
            },
            {
                text: "The _____ of new technology with traditional methods may produce _____ results, but we must be careful not to make it _____.",
                answers: ['fusion', 'tremendous', 'counterproductive'],
                options: ['fusion', 'tremendous', 'counterproductive', 'render', 'scope', 'deflection']
            },
            {
                text: "When the supplies run out, we need to _____ them again and choose _____ people to help with sales. _____ we should select experienced individuals.",
                answers: ['refill', 'trustworthy', 'Preferably'],
                options: ['refill', 'trustworthy', 'Preferably', 'replace', 'likely', 'unfortunately']
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let level = 1;
        let streak = 0;
        let selectedBlanks = [];
        let gameData = {};
        let currentSection = 'game';

        function showSection(section) {
            // Update navigation
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Show/hide sections
            document.getElementById('gameSection').classList.remove('active');
            document.getElementById('vocabSection').classList.remove('active');
            
            if (section === 'game') {
                document.getElementById('gameSection').classList.add('active');
                document.getElementById('scoreBoard').style.display = 'flex';
                document.getElementById('progressBarContainer').style.display = 'block';
                currentSection = 'game';
            } else {
                document.getElementById('vocabSection').classList.add('active');
                document.getElementById('scoreBoard').style.display = 'none';
                document.getElementById('progressBarContainer').style.display = 'none';
                currentSection = 'vocabulary';
                generateVocabularyList();
            }
        }

        function generateVocabularyList() {
            const vocabGrid = document.getElementById('vocabGrid');
            vocabGrid.innerHTML = '';
            
            Object.keys(vocabulary).forEach(word => {
                const card = document.createElement('div');
                card.className = 'vocab-card';
                card.setAttribute('data-category', vocabulary[word].category);
                card.innerHTML = `
                    <div class="vocab-word">${word}</div>
                    <div class="vocab-meaning">${vocabulary[word].meaning}</div>
                `;
                vocabGrid.appendChild(card);
            });
        }

        function filterVocabulary() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const cards = document.querySelectorAll('.vocab-card');
            
            cards.forEach(card => {
                const word = card.querySelector('.vocab-word').textContent.toLowerCase();
                const meaning = card.querySelector('.vocab-meaning').textContent.toLowerCase();
                
                if (word.includes(searchTerm) || meaning.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function filterByCategory(category) {
            // Update filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const cards = document.querySelectorAll('.vocab-card');
            cards.forEach(card => {
                if (category === 'all' || card.getAttribute('data-category') === category) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function initGame() {
            currentQuestion = 0;
            loadQuestion();
        }

        function loadQuestion() {
            if (currentQuestion >= situations.length) {
                showGameComplete();
                return;
            }

            const situation = situations[currentQuestion];
            gameData = { ...situation };
            
            // Create text with blanks
            let text = situation.text;
            situation.answers.forEach((answer, index) => {
                text = text.replace('_____', `<span class="blank" data-index="${index}" onclick="selectBlank(this)"></span>`);
            });
            
            document.getElementById('situationText').innerHTML = text;
            
            // Create word bank
            createWordBank(situation.options);
            
            // Clear selections and feedback
            selectedBlanks = [];
            document.getElementById('feedback').style.display = 'none';
            
            updateProgress();
        }

        function createWordBank(options) {
            const wordBank = document.getElementById('wordBank');
            wordBank.innerHTML = '<h3>üéØ Choose the appropriate words</h3>';
            
            // Shuffle options
            const shuffledOptions = [...options].sort(() => Math.random() - 0.5);
            
            shuffledOptions.forEach(word => {
                const wordElement = document.createElement('div');
                wordElement.className = 'word-option';
                wordElement.textContent = word;
                wordElement.onclick = () => selectWord(wordElement, word);
                wordBank.appendChild(wordElement);
            });
        }

        function selectBlank(blankElement) {
            // Clear previous selections
            document.querySelectorAll('.blank').forEach(blank => {
                blank.classList.remove('selected');
                blank.style.background = blank.classList.contains('filled') ? '#28a745' : 'rgba(0,123,255,0.1)';
            });
            
            // Select new blank
            blankElement.classList.add('selected');
            blankElement.style.background = 'rgba(255,193,7,0.3)';
            selectedBlanks = [blankElement];
        }

        function selectWord(wordElement, word) {
            if (wordElement.classList.contains('used')) return;
            if (selectedBlanks.length === 0) {
                showFeedback('Please select a blank first', 'incorrect');
                return;
            }
            
            const blank = selectedBlanks[0];
            blank.textContent = word;
            blank.classList.add('filled');
            blank.classList.remove('selected');
            blank.style.background = '#28a745';
            blank.setAttribute('data-word', word);
            
            wordElement.classList.add('used');
            selectedBlanks = [];
        }

        function checkAnswers() {
            const blanks = document.querySelectorAll('.blank');
            let correct = 0;
            let allFilled = true;

            blanks.forEach((blank, index) => {
                const userWord = blank.getAttribute('data-word');
                const correctWord = gameData.answers[index];
                
                if (!userWord) {
                    allFilled = false;
                    return;
                }
                
                if (userWord === correctWord) {
                    blank.classList.remove('wrong');
                    blank.style.background = '#28a745';
                    correct++;
                } else {
                    blank.classList.add('wrong');
                    blank.style.background = '#dc3545';
                }
            });

            if (!allFilled) {
                showFeedback('Please fill in all blanks', 'incorrect');
                return;
            }

            if (correct === gameData.answers.length) {
                const points = 10 + (streak * 2);
                score += points;
                streak++;
                if (streak % 3 === 0) level++;
                
                showFeedback(`üéâ Correct! Earned ${points} points (streak x${streak})`, 'correct');
            } else {
                streak = 0;
                showFeedback(`‚ùå Wrong ${gameData.answers.length - correct} word(s). Please try again`, 'incorrect');
            }

            updateScoreBoard();
        }

        function clearAnswers() {
            document.querySelectorAll('.blank').forEach(blank => {
                blank.textContent = '';
                blank.classList.remove('filled', 'wrong', 'selected');
                blank.style.background = 'rgba(0,123,255,0.1)';
                blank.removeAttribute('data-word');
            });
            
            document.querySelectorAll('.word-option').forEach(option => {
                option.classList.remove('used');
            });
            
            selectedBlanks = [];
            document.getElementById('feedback').style.display = 'none';
        }

        function nextQuestion() {
            currentQuestion++;
            loadQuestion();
        }

        function showFeedback(message, type) {
            const feedback = document.getElementById('feedback');
            feedback.textContent = message;
            feedback.className = `feedback ${type}`;
            feedback.style.display = 'block';
        }

        function updateScoreBoard() {
            document.getElementById('score').textContent = score;
            document.getElementById('level').textContent = level;
            document.getElementById('streak').textContent = streak;
        }

        function updateProgress() {
            const progress = (currentQuestion / situations.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function showGameComplete() {
            const situationBox = document.querySelector('.situation-box');
            situationBox.innerHTML = `
                <div style="text-align: center;">
                    <h2>üéä Game Complete!</h2>
                    <p>Total Score: ${score} points</p>
                    <p>Highest Level: ${level}</p>
                    <button class="btn btn-success" onclick="location.reload()">üîÑ Play Again</button>
                </div>
            `;
            document.getElementById('wordBank').style.display = 'none';
            document.querySelector('.controls').style.display = 'none';
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initGame();
            generateVocabularyList();
        });
    </script>
</body>
</html>